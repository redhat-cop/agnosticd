---
become_override: false
ocp_username: opentlc-mgr
silent: false

# ------------------------------------------------
# RHV Environment
# ------------------------------------------------
ocp4_workload_ama_demo_shared_rhv_host: rhvm.dev.cnv.infra.opentlc.com
ocp4_workload_ama_demo_shared_rhv_url: https://{{ ocp4_workload_ama_demo_shared_rhv_host }}/ovirt-engine/api

# Admin account on RHV, Set password from secrets
ocp4_workload_ama_demo_shared_rhv_admin_user_name: opentlc-mgr@internal
ocp4_workload_ama_demo_shared_rhv_admin_user_password: ""

# Root account on RHV server
# Provide private key in secrets
ocp4_workload_ama_demo_shared_rhv_root_user: root
ocp4_workload_ama_demo_shared_rhv_root_private_key: ""

# Storage to use on RHV
ocp4_workload_ama_demo_shared_rhv_storage: vmstore00

# ------------------------------------------------
# RHV User and permissions, replace GUID with the actual GUID when running
# ------------------------------------------------
ocp4_workload_ama_demo_shared_rhv_user_setup: true

ocp4_workload_ama_demo_shared_rhv_user_name: "migrateuser-{{ guid | default('xxxxx') }}"
# Set password from secrets or generate when empty
ocp4_workload_ama_demo_shared_rhv_user_password: ""
ocp4_workload_ama_demo_shared_rhv_user_password_length: 12
# How long the password should be valid in days
ocp4_workload_ama_demo_shared_rhv_user_password_validity: 6
ocp4_workload_ama_demo_shared_rhv_user_firstname: Migration
ocp4_workload_ama_demo_shared_rhv_user_lastname: "User - {{ guid | default('xxxxx') }}"

ocp4_workload_ama_demo_shared_rhv_user_domain: internal-authz
ocp4_workload_ama_demo_shared_rhv_user_postfix: internal
ocp4_workload_ama_demo_shared_rhv_user_namespace: "*"
ocp4_workload_ama_demo_shared_rhv_user_cluster_roles:
- VmImporterExporter
- ReadOnlyAdmin
ocp4_workload_ama_demo_shared_rhv_user_vm_roles:
- UserVmManager

# ------------------------------------------------
# Common VM Properties
# ------------------------------------------------
ocp4_workload_ama_demo_shared_vm_cluster: Default

# User in the VM
# Set password from secrets or generate when empty
ocp4_workload_ama_demo_shared_vm_user_name: lab-user
ocp4_workload_ama_demo_shared_vm_user_password: ""
ocp4_workload_ama_demo_shared_vm_user_password_length: 12

# ------------------------------------------------
# Oracle VM Properties
# ------------------------------------------------
ocp4_workload_ama_demo_shared_oracle_vm_setup: true

# Install everything from scratch (when false use a pre-installed template)
ocp4_workload_ama_demo_shared_oracle_vm_install_from_scratch: true

# Template to use to set up the Oracle VM
# "rhel85-empty" for a full install (ocp4_workload_ama_demo_shared_oracle_vm_install_from_scratch == true)
# "ama-template-oracle" to use a pre-installed template (ocp4_workload_ama_demo_shared_oracle_vm_install_from_scratch == false)
ocp4_workload_ama_demo_shared_oracle_vm_template: rhel85-empty
# ocp4_workload_ama_demo_shared_oracle_vm_template: ama-template-oracle
ocp4_workload_ama_demo_shared_oracle_vm_name: "oracle-{{ guid | default(xxxxx) }}"

# https://yum.oracle.com/repo/OracleLinux/OL8/appstream/x86_64/getPackage/oracle-database-preinstall-21c-1.0-1.el8.x86_64.rpm
ocp4_workload_ama_demo_shared_oracle_preinstall_rpm: https://gpte-public.s3.amazonaws.com/ama_demo/oracle-database-preinstall-21c-1.0-1.el8.x86_64.rpm
# https://download.oracle.com/otn-pub/otn_software/db-express/oracle-database-xe-21c-1.0-1.ol8.x86_64.rpm
ocp4_workload_ama_demo_shared_oracle_rpm: https://gpte-public.s3.amazonaws.com/ama_demo/oracle-database-xe-21c-1.0-1.ol8.x86_64.rpm

# Oracle Database User
ocp4_workload_ama_demo_shared_oracle_db_user: customer
ocp4_workload_ama_demo_shared_oracle_dba_password: customeradmin
ocp4_workload_ama_demo_shared_oracle_db_password: customer

# ------------------------------------------------
# Tomcat VM Properties
# ------------------------------------------------
ocp4_workload_ama_demo_shared_tomcat_vm_setup: true

# Install everything from scratch (when false use a pre-installed template)
ocp4_workload_ama_demo_shared_tomcat_vm_install_from_scratch: true

# Template to use to set up the Oracle VM
# "rhel85-empty" for a full install (ocp4_workload_ama_demo_shared_oracle_vm_install_from_scratch == true)
# "ama-template-tomcat" to use a pre-installed template (ocp4_workload_ama_demo_shared_oracle_vm_install_from_scratch == false)
ocp4_workload_ama_demo_shared_tomcat_vm_template: rhel85-empty
# ocp4_workload_ama_demo_shared_tomcat_vm_template: ama-template-tomcat
ocp4_workload_ama_demo_shared_tomcat_vm_name: "tomcat-{{ guid | default(xxxxx) }}"

# Tomcat Download URL
ocp4_workload_ama_demo_shared_tomcat_download_url: https://gpte-public.s3.amazonaws.com/apache-tomcat-9.0.64.tar.gz
# ocp4_workload_ama_demo_shared_tomcat_download_url: https://dlcdn.apache.org/tomcat/tomcat-9/v9.0.64/bin/apache-tomcat-9.0.64.tar.gz

# Repo to use to build the customer application
ocp4_workload_ama_demo_shared_tomcat_repo_name: modern-app-dev
ocp4_workload_ama_demo_shared_tomcat_repo_branch: main
ocp4_workload_ama_demo_shared_tomcat_repo_user: user1
# Set password in config
ocp4_workload_ama_demo_shared_tomcat_repo_user_password: ""
ocp4_workload_ama_demo_shared_tomcat_repo_ssl: true

# ------------------------------------------------
# GitOps Deployment
# ------------------------------------------------
ocp4_workload_ama_demo_shared_gitops_setup: true
ocp4_workload_ama_demo_shared_home_directory: "/home/ec2-user"

# Gitea deployment to use
# Base gitea route will be determined dynamically based on project and instance
ocp4_workload_ama_demo_shared_gitea_project: gitea
ocp4_workload_ama_demo_shared_gitea_instance: gitea

ocp4_workload_ama_demo_shared_gitea_user_count: 2
ocp4_workload_ama_demo_shared_gitea_user_prefix: user
# Set via config
ocp4_workload_ama_demo_shared_gitea_user_password: ""
ocp4_workload_ama_demo_shared_gitea_repo: modern-app-dev
ocp4_workload_ama_demo_shared_gitea_repo_branch: main

# Demo pipeline setup
ocp4_workload_ama_demo_shared_pipeline_namespace_prefix: cicd-

# Demo deployment namespace
ocp4_workload_ama_demo_shared_demo_namespace_prefix: retail-

# PostgreSQL Helm Chart
ocp4_workload_ama_demo_shared_postgresql_repo: https://github.com/redhat-gpte-devopsautomation/agnosticd_workload_helm_charts.git
ocp4_workload_ama_demo_shared_postgresql_repo_tag: main
ocp4_workload_ama_demo_shared_postgresql_repo_path: postgresql

# Orders PostgreSQL database
ocp4_workload_ama_demo_shared_orders_db_app_name: postgresql-orders
ocp4_workload_ama_demo_shared_orders_db_name: orders
ocp4_workload_ama_demo_shared_orders_db_user: orders
ocp4_workload_ama_demo_shared_orders_db_password: orders

# Inventory PostgreSQL database
ocp4_workload_ama_demo_shared_inventory_db_app_name: postgresql-inventory
ocp4_workload_ama_demo_shared_inventory_db_name: inventory
ocp4_workload_ama_demo_shared_inventory_db_user: inventory
ocp4_workload_ama_demo_shared_inventory_db_password: inventory

# ------------------------------------------------
# User Oracle KubeVirt VM Deployment
# ------------------------------------------------
ocp4_workload_ama_demo_shared_kubevirt_vm_deploy: true
ocp4_workload_ama_demo_shared_kubevirt_image_location: https://gpte-public.s3.amazonaws.com/ama_demo/ama-demo-database.qcow2
ocp4_workload_ama_demo_shared_kubevirt_image_name: ama-demo-database
ocp4_workload_ama_demo_shared_kubevirt_image_namespace: vmimages
ocp4_workload_ama_demo_shared_kubevirt_image_size: 30Gi
ocp4_workload_ama_demo_shared_kubevirt_image_storage_class: ocs-storagecluster-ceph-rbd
ocp4_workload_ama_demo_shared_kubevirt_vm_name: oracle-database
ocp4_workload_ama_demo_shared_kubevirt_vm_memory: 4Gi
ocp4_workload_ama_demo_shared_kubevirt_vm_cpu: 2
ocp4_workload_ama_demo_shared_kubevirt_vm_node_selector: {}
# Example:
# ocp4_workload_ama_demo_shared_kubevirt_vm_node_selector:
#   "node-role.kubernetes.io/metal": ""
ocp4_workload_ama_demo_shared_kubevirt_vm_tolerations: []
# Example:
# ocp4_workload_ama_demo_shared_kubevirt_vm_tolerations:
# - key: metal
#   operator: Exists

# Location of the Helm Chart to deploy the VM
ocp4_workload_ama_demo_shared_kubevirt_vm_repo: https://github.com/redhat-gpte-devopsautomation/agnosticd_workload_helm_charts.git
ocp4_workload_ama_demo_shared_kubevirt_vm_repo_tag: main
ocp4_workload_ama_demo_shared_kubevirt_vm_repo_path: oracle-database

# ------------------------------------------------
# Dev Track - Guides and User distribution
# ------------------------------------------------
num_users: 5
module_type: m1;m2;m3;m4;m5
module_titles:
- { name: m1, title: "Assessment and Analysis", path: /mad-dev-guides-m1/main/1-introduction.html }
- { name: m2, title: "Refactor and Deployment", path: /mad-dev-guides-m2/main/1-introduction.html }
- { name: m3, title: "Enable CI/CD Pipeline and GitOps", path: /mad-dev-guides-m3/main/1-introduction.html }
- { name: m4, title: "Manage and Secure APIs", path: /mad-dev-guides-m4/main/introduction.html }
- { name: m5, title: "Build Event-driven Architecture ", path: /mad-dev-guides-m5/main/introduction.html }