---

### BEGIN WORKSHOP SETUP ###
- name: Create Catalog Source for use with catalog snapshot
  k8s:
    state: present
    definition: "{{ lookup('template', './templates/catalogsource.j2' ) | from_yaml }}"

- name: Install Elastic Search Operator
  include_tasks: ./install_elasticsearch_operator.yaml

- name: Install Jaeger Operator
  include_tasks: ./install_jaeger_operator.yaml  

- name: Install Kiali Operator
  include_tasks: ./install_kiali_operator.yaml

- name: Install Service Mesh Operator
  include_tasks: ./install_servicemesh_operator.yaml

### END WORKSHOP SETUP

# Leave this as the last task in the playbook.
# --------------------------------------------
- name: workload tasks complete
  debug:
    msg: "Workload Tasks completed successfully."
  when: not silent|bool
