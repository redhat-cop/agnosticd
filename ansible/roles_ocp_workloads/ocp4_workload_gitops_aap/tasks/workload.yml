---

- name: Create secret in dev
  kubernetes.core.k8s:
    state: present
    definition: "{{ lookup('template', 'argocd/clusterrolebinding.yml.j2' ) }}"

- name: Set up RHODS Object Detection PROD project  - argocd
  kubernetes.core.k8s:
    state: present
    definition: "{{ lookup('template',  item ) | from_yaml }}"
  loop:
  - apps/aap-operator.yml.j2
  - apps/aap-controller.yml.j2
  - patch-operator/subscription.yml.j2
  - patch-operator/rbac.yml.j2
  - patch-operator/operatorgroup.yml.j2
  - apps/patch-operator.yml.j2
  - aap/consolelink-patch.yml.j2
  - aap/consolelink.yml.j2
