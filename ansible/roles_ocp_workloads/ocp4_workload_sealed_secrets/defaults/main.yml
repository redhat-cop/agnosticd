---
become_override: false
ocp_username: opentlc-mgr
silent: false

# Which namespace to install the Sealed Secrets Controller into
ocp4_workload_sealed_secrets_namespace: sealed-secrets

# Install a Cluster Role that aggregates Sealed Secrets permissions to project
# admins. Otherwise permission to manipulate sealed secrets has to be granted
# via individual role bindings
ocp4_workload_sealed_secrets_deploy_admin_role: true

# Install kubeseal binary and version
ocp4_workload_sealed_secrets_kubeseal_install: true
ocp4_workload_sealed_secrets_kubeseal_version: v0.16.0

# Sealed Secrets can be deployed either via Helm or by deploying the
# sealed secrets controller manifest directly. Installing sealed secrets
# on OpenShift 4.9+ requires the manifest with a kustomization to fix some
# API versions used. Once the Helm Chart is released for 0.17 this can be changed
# back

# Deploy using HELM (true by default to not break existing behaviour)
ocp4_workload_sealed_secrets_deploy_using_helm: true

#####################################################################
# Helm Settings
#####################################################################
# Helm Chart installed name
ocp4_workload_sealed_secrets_name: sealed-secrets-controller

# Helm Chart version
ocp4_workload_sealed_secrets_helm_chart_version: 1.16.1

# Version of dedicated helm CLI (to be installed as /usr/local/bin/helm-sealed-secrets)
ocp4_workload_sealed_secrets_helm_version: 3.6.2

# Download URL for the helm CLI
ocp4_workload_sealed_secrets_helm_url: >-
  http://d3s3zqyaz8cp2d.cloudfront.net/pub/openshift-v4/clients/helm/{{ ocp4_workload_sealed_secrets_helm_version }}/helm-linux-amd64

#####################################################################
# sealed-secrets-controller.yaml settings
#####################################################################
# Version to use from
# https://github.com/bitnami-labs/sealed-secrets/releases/download/v0.16.0/controller.yaml
ocp4_workload_sealed_secrets_version: v0.16.0

# Add the --update-status argument to the controller
# Should no longer be necessary with 0.17+
ocp4_workload_sealed_secrets_add_update_status_argument: true

# Patch the APIVersion for RBAC
# Should no longer be necessary with 0.17+
ocp4_workload_sealed_secrets_patch_api_version: true
