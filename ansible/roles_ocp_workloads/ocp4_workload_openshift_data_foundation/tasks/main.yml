---
# Do not modify this file
- name: Running Pre Workload Tasks
  when: ACTION == "create" or ACTION == "provision"
  ansible.builtin.include_tasks:
    file: ./pre_workload.yml
    apply:
      become: "{{ become_override | bool }}"

- name: Running Workload Tasks (NON RHOIC)
  when:
    - ACTION == "create" or ACTION == "provision"
    - cloud_provider != "ibm"
  ansible.builtin.include_tasks:
    file: ./workload.yml
    apply:
      become: "{{ become_override | bool }}"

- name: Running Workload Tasks (RHOIC)
  when:
    - ACTION == "create" or ACTION == "provision"
    - cloud_provider == "ibm"
  ansible.builtin.include_tasks:
    file: ./workload_rhoic.yml
    apply:
      become: "{{ become_override | bool }}"

- name: Running Post Workload Tasks
  when: ACTION == "create" or ACTION == "provision"
  ansible.builtin.include_tasks:
    file: ./post_workload.yml
    apply:
      become: "{{ become_override | bool }}"

- name: Running Workload removal Tasks
  when: ACTION == "destroy" or ACTION == "remove"
  ansible.builtin.include_tasks:
    file: ./remove_workload.yml
    apply:
      become: "{{ become_override | bool }}"
