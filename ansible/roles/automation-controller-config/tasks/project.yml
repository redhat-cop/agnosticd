---
- name: Create automation controller project
  awx.awx.project:
    name: "{{ item.name }}"
    description: "{{ item.description | default(omit) }}"
    organization: "{{ item.organization | default('Default') }}"
    scm_type: "{{ item.scm_type | default('git')}}"
    scm_branch: "{{ item.scm_branch | default(omit) }}"
    scm_url: "{{ item.scm_url | default(omit) }}"
    wait: true
    validate_certs: "{{ item.validate_certs | default(false) }}"
    state: "{{ item.state | default('present') }}"
  loop: "{{ automation_controller_projects }}"
