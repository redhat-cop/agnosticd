---
- name: Print Open Environment information to user
  when: sandbox_user_info_messages_enable | bool
  agnosticd_user_info:
    msg: |

     <b>Welcome to the Red Hat Summit 2024 Lab<b> <br>

     Follow these easy steps to access your environment:

     Login to your <a href="https://{{ sandbox_account_id }}.signin.aws.amazon.com/console" target="_blank" rel="nofollow noopener noreferrer"> AWS Console </a> using the following credentials: <br>
     Username: {{ admin_console_user_name }} <br>
     Password: {{ admin_console_password }} <br>
     <br>
     Follow this link to your <a href="{{ admin_cloud9_url }}" target="_blank" rel="nofollow noopener noreferrer">Cloud9 IDE</a>  (or find it in AWS): <br>

     . ROSA: TBC

     [%autowidth.stretch,width=80%,cols="a,a",options="header"]
      |===
      2.+| {counter:srn}: image:https://gpte-public.s3.amazonaws.com/CI+Assets/Multicluster+DevSecOps/openshift_icond.png[image,width=35] Red Hat OpenShift Cluster
      | Console URL |{openshift_console_url}
      | Username | {openshift_cluster_admin_username}
      | Password |{openshift_cluster_admin_password}
      | API URL  | {openshift_api_url}
      | OC Client Download Link | {openshift_client_download_url}
      |=== 

      ** *We monitor usage and we will be charging back to your cost center.*
      ** *Reports from the cloud provider of misuse or account compromise will result in immediate deletion of your environment without any warning to you and referral to Red Hat INFOSEC.*
      ** *Do not post your credentials in github/email/web pages/etc.*
      ** *NOTE: Most account compromises occur when accidentally checking credentials into github.*

- name: Record sandbox information as user data
  when: sandbox_user_info_data_enable | bool
  agnosticd_user_info:
    data:
      aws_access_key_id: "{{ hostvars.localhost.admin_access_key_id }}"
      aws_secret_access_key: "{{ hostvars.localhost.admin_secret_access_key }}"
      aws_default_region: "{{ aws_region }}"
      aws_route53_domain: "{{ subdomain_base_suffix }}"

- name: Record sandbox web console access as user data
  when:
    - sandbox_user_info_data_enable | bool
    - sandbox_enable_ui | bool
  agnosticd_user_info:
    data:
      aws_web_console_url: https://{{ sandbox_account_id }}.signin.aws.amazon.com/console
      aws_web_console_user_name: "{{ admin_console_user_name }}"
      aws_web_console_password: "{{ admin_console_password }}"
      aws_cloud9_url: "{{ admin_cloud9_url }}"
