{
    {% set node_instances = [
        {"name": hostvars['localhost'].node1_instance_name, "color": "#d48a00"},
        {"name": hostvars['localhost'].node2_instance_name, "color": "#0039d4"},
        {"name": hostvars['localhost'].node3_instance_name, "color": "#bf00d4"},
        {"name": hostvars['localhost'].node4_instance_name, "color": "#67d300"}
    ] %}
    {% for node_instance in node_instances %}
        {% set instance = r_instances_info.instances | selectattr('tags.Name', 'equalto', node_instance.name) | first %}
        {% if instance %}{{ "\n" }}
            "{{ instance.tags.short_name }}.example.com": {
                "visible": true,
                "color": "{{ node_instance.color }}",
                "user": "ec2-user",
                "address": "{{ instance.tags.short_name }}.example.com"
            }{% if not loop.last %},{% endif %}
        {% endif %}
    {% endfor %}{{ "\n" }}
}
