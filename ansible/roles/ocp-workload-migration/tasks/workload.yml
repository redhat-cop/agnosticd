---
- name: "Creating controller and operator"
  shell: "oc apply -f {{ repodir.path }}/{{ item }}"
  loop:
    - "operator.yml"
    - "controller-4.yml"
  when: not migration_workload_destroy|bool

- name: "Removing controller and operator"
  shell: "oc delete --ignore-not-found -f {{ repodir.path }}/{{ item }}"
  loop:
    - "operator.yml"
  when: migration_workload_destroy|bool

# Leave this as the last task in the playbook.
- name: workload tasks complete
  debug:
    msg: "Workload Tasks completed successfully."
  when: not silent|bool
