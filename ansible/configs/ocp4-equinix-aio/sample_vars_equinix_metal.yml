---
env_type: ocp4-equinix-aio
cloud_provider: equinix_metal

hypervisor_os: centos_8
hypervisor_count: 1

# to change how instances are named
# (default is '%d')
#infra_dns_num_format: '-%02d'
#equinix_metal_instance_numerotation: '-%02d'

# Don't configure repos as this is a centos
repo_method: none

# Don't install env key
set_env_authorized_key: false

install_common: false

install_bastion: false

####################################################################
############################ OCP AIO VARS ##########################
####################################################################
# Enter SSH public key to use
#ssh_key: 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC4pu0BTw5xXad4uXUoV9qXDBwK7nXR0gHQBROiQWtQO9k9Ee2LQrqNm/8ce4zjet8K04Aej7ztLh8z0NmWkHZkmZKAhxhgM37CAWDzyUPiQBSob2fk9PhWPjijScEQ96AfHp7WYQ1G6NyWghg9vLnXUugrqNIWWHUNhARoXVpKPVZ/zUOZQLPKeF+GgDH9L178gvFRIvGQlvmDCjgt6qMyJymdGcuAL0LOLUJ9PsSwCXvJ6RICgH1Qa/FthFcsPs+8/zHKsd3jEJnb6m1caskbbONUkJ3d14CJOukAH/07Y3IllNtu9f1lt35N3cYmKZbdRdd4o2c74ETdOS8Ibm5v'

ocp4_aio_ssh_key: "{{ equinix_metal_ssh_pub_key }}"

ocp4_aio_ssh_key_path: "{{ ssh_key | default(infra_ssh_key) | default(ansible_ssh_private_key_file) | default(default_key_name) }}"

# Enter OpenShift Pull Secret
pull_secret: 'PULL_SECRET_HERE'

# Set whether you want to deploy a disconnected registry
ocp4_aio_deploy_disconnected: false

# Set whether you want to deploy guacamole for console
ocp4_aio_deploy_guacamole: true

# Set whether you want a compact deployment (3 node cluster)
ocp4_aio_deploy_compact: false

# Select granular deployment options
# NOTE: OCP Plus will force acm, acs, ocp on.
#       deploy_ocs will force 3 workers on non-compact
ocp4_aio_deploy_ocp: true
ocp4_aio_deploy_ocp_plus: true
ocp4_aio_deploy_cnv: false
ocp4_aio_deploy_ocs: false
ocp4_aio_deploy_acm: false
ocp4_aio_deploy_acs: false
ocp4_aio_deploy_ods: false
ocp4_aio_deploy_nfs: false
ocp4_aio_deploy_sno: true

# Select OpenShift version for base cluster
ocp4_aio_ocp_version: latest-4.8

# Select number of workers for base cluster (1-3, for 0 use deploy_compact)
ocp4_aio_ocp_workers: 2

# Select deployment type (ipi or sno)
ocp4_aio_deploy_type: sno

# Set output directory
output_dir: /tmp/output_dir

# Deploy extra SNO nodes for AI 
extra_sno_nodes: false
