cat <<EOF | oc apply -f -
---
apiVersion: forklift.konveyor.io/v1beta1
kind: StorageMap
metadata:
  name: vmware-demo-aap
  namespace: openshift-mtv
spec:
  provider:
    source:
      name: vmware
      namespace: openshift-mtv
    destination:
      name: host
      namespace: openshift-mtv
  map:
    - source:
        name: {{ vcenter_datastore }}
      destination:
        storageClass: ocs-storagecluster-ceph-rbd-virtualization
---
apiVersion: forklift.konveyor.io/v1beta1
kind: NetworkMap
metadata:
  name: vmware-demo-aap
  namespace: openshift-mtv
spec:
  provider:
    source:
      name: vmware
      namespace: openshift-mtv
    destination:
      name: host
      namespace: openshift-mtv
  map:
    - source:
        id: dvportgroup-1411
      destination:
        type: pod
---
apiVersion: forklift.konveyor.io/v1beta1
kind: Plan
metadata:
  name: aap-migration-plan
  namespace: openshift-mtv
spec:
  provider:
    source:
      name: vmware
      namespace: openshift-mtv
    destination:
      name: host
      namespace: openshift-mtv
  map:
    network:
      name: vmware-demo-aap
      namespace: openshift-mtv
    storage:
      name: vmware-demo-aap
      namespace: openshift-mtv
  targetNamespace: openshift-mtv
  vms:
    - name: database
    - name: winweb01
    - name: winweb02
EOF
