- name: Step 000 Pre Infrastructure
  hosts: localhost
  connection: local
  become: false
  tags:
  - step001
  - pre_infrastructure
  tasks:
    - debug:
        msg: "Step 000 Pre Infrastructure - action"
    - name: if windows_password is not defined, generate one
      when: windows_password is not defined
      block:
      - name: Generate windows Administrator password if not already defined
        command: openssl rand -base64 25
        register: password_gen_r
      - name: set_fact windows_password (just generated)
        set_fact:
          windows_password: "{{ password_gen_r.stdout }}"

